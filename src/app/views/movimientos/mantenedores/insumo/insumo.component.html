<app-tools (OnClickNew)="changeMode($event)" (OnClickSave)="onSubmit()" [ViewMode]="modeType"
  (OnClickBack)="changeMode($event)">
</app-tools>

<ng-container *ngIf="isViewMode || isDeleteMode">
  <app-table [path]="fullPath" (OnEdit)="getForm($event);" (OnDelete)="delForm($event)" [headers]="headers"
    [btnDelete]="true" [btnEdit]="true" [refresh]="auto">
  </app-table>
</ng-container>

<ng-container *ngIf="isCreateMode || isEditMode">
  <div class="card-body">
    <form [formGroup]="form">
      <div class="row mt-3">
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-input inputClass="form-control" formControlName="codigo" label="CODIGO" type="text"
              [formValid]="ok"></app-input>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-select [dataSource]="dataGrupo" formControlName="tipo_insumo" [showClear]="true" [filter]="false"
              optionValue="codigo" optionLabel="nombre" styleClass="p-0 w-100" placeholder="-Seleccionar-"
              label="SELECCIONAR TIPO DE INSUMO" [isTemplete]="true" [Labels]="['codigo','nombre']" [formValid]="ok"></app-select>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-input inputClass="form-control" formControlName="nombre" label="NOMBRE" type="text"
              [formValid]="ok"></app-input>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-input inputClass="form-control" formControlName="descripcion" label="DESCRIPCION" type="text"
              [formValid]="ok"></app-input>
          </div>
        </div>
      </div>
      <div class="row mt-3">
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-input inputClass="form-control" formControlName="cantidad" label="CANTIDAD" type="number"
              [formValid]="ok" [min]="0" [minFractionDigits]="2"></app-input>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
              <app-finder [currentPath]="'/unidad-medida-buscar'" [Labels]="['codigo','descripcion']"  formControlName="id_unidadmedida" [showClear]="true"
                optionValue="id" field="descripcion" styleClass="p-0 w-100" label="UNIDAD DE MEDIDA" [formValid]="ok">
              </app-finder>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-select [currentPath]="'/bien-buscar'" formControlName="id_bien" [filter]="true" [showClear]="true"
              optionValue="id" filterBy="codigo,descripcion" optionLabel="codigo"
              styleClass="p-0 w-100" placeholder="-Seleccionar-" label="BIEN" [isTemplete]="true"
              [Labels]="['codigo','nombre']"></app-select>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-input inputClass="form-control" formControlName="precio_referencial" label="PRECIO REFERENCIAL" type="number"
            [min]="0" [minFractionDigits]="4"  [formValid]="ok"></app-input>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div>
            <app-select [dataSource]="moneda" formControlName="moneda" [showClear]="true" [filter]="false"
              optionValue="codigo" optionLabel="nombre" styleClass="p-0 w-100" placeholder="-Seleccionar-"
              label="SELECCIONAR MONEDA" [isTemplete]="true" [Labels]="['codigo','nombre']"
              [formValid]="ok"></app-select>
          </div>
        </div>
        <div class="col-xxl-3 col-md-6">
          <div class="d-flex flex-column">
            <label for="" class="block text-capitalize">HABILITAR</label>
            <p-inputSwitch formControlName="habilitado"></p-inputSwitch>
          </div>
        </div>
      </div>
      <!-- <div class="row">
        <app-table-grid [dataSource]="form.value.detalle_bienes" [paginator]="false" [headers]="headers_detalle"
          (dataResponse)="updateDataResponse($event)">
        </app-table-grid>
      </div> -->
    </form>
  </div>

</ng-container>
